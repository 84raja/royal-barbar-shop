<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laporan Data Transaksi</title>
</head>
<style>
    table,
    th,
    td {
        border: 1px solid black;
        text-align: center;
    }

    .h {
        padding-bottom: 1px;
    }
</style>

<body>
    <table style="border: none" width="100%">
        <tr style="border: none">
            <td style="border: none">
                <p style="line-height: 1em ">
                    <h3>
                        <center>ROYAL BARBER SHOP</center>
                    </h3>
                </p>
            </td>
        </tr>
    </table>
    <hr>
    <center>
        <h4>Data Pendapatan <br> Bulan <%= datas.month %> - <%= datas.year %>
        </h4>
    </center>

    <table width="100%">
        <thead>
            <tr>
                <th>
                    No</th>
                <th>
                    Nama Pelanggan</th>
                <th>
                    Kapster</th>
                <th>
                    Layanan</th>
                <th>
                    Tanggal</th>
                <th>
                    Harga</th>
            </tr>
        </thead>
        <tbody>
            <% let total = 0 %>
            <% datas.data.forEach((element,index) => { %>
            <% total = total+element.harga %>
            <tr>
                <td>
                    <%= index+1 %>
                </td>
                <td>
                    <%= element.pelanggan %>
                </td>
                <td>
                    <%= element.kapster %>

                </td>
                <td>
                    <%= element.layanan %>

                </td>
                <td>
                    <%= element.tanggal %>
                </td>
                <td>
                    <%
                    const harga = element.harga.toLocaleString("id-ID", {
                        style: "currency",
                        currency: "IDR",
                      }); 
                    %>
                    <%= harga %>
                </td>
            </tr>
            <% }) %>
            <tr>
                <td colspan="5">Total</td>
                <td colspan="5">
                    <%
                    const totalRp = total.toLocaleString("id-ID", {
                        style: "currency",
                        currency: "IDR",
                      }); 
                    %>
                    <%= totalRp %> </td>
            </tr>
        </tbody>
    </table>
    <table style="width: 100%; border: none;">
        <tr>
            <td style="width: 30%;text-align: center; border: none;">

            </td>
            <td style="width: 40%;border: none;"></td>
            <td style="width: 30%;text-align: center;border: none;">
                <br>
                <br>
                <br>

                <br>
                Padang, <%= datas.tanggalSekarang %>
                <br>
                <br>
                <br>
                <u>Owner</u>
            </td>
        </tr>
    </table>


</body>

</html>